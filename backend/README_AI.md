# AI Assistant Setup

## Настройка OpenAI API

1. **Создайте файл `.env` в папке `backend/`:**

```bash
cd backend
cp .env.example .env
```

2. **Получите API ключ OpenAI:**
   - Зарегистрируйтесь на https://platform.openai.com
   - Перейдите в раздел API Keys: https://platform.openai.com/api-keys
   - Создайте новый ключ (он начинается с `sk-`)

3. **Добавьте ключ в `.env` файл:**

```env
OPENAI_API_KEY=sk-ваш-ключ-здесь
```

4. **Перезапустите сервер:**

```bash
# Остановите текущий сервер (Ctrl+C)
# Запустите снова
uvicorn app.main:app --reload
```

## Проверка работы

После настройки AI Assistant будет использовать реальный OpenAI API для ответов.

**Примеры вопросов:**
- "Где самые критичные участки на трассе МТ-02?"
- "Сколько критических дефектов на всех трассах?"
- "Покажи статистику по трассе MT-01"

## Fallback режим

Если API ключ не настроен, AI Assistant будет работать в упрощенном режиме, отвечая на основе данных из базы без использования OpenAI.

## Стоимость

Используется модель `gpt-4o-mini`:
- Быстрая и недорогая
- ~$0.15 за 1M входных токенов
- ~$0.60 за 1M выходных токенов

Для демо на хакатоне расход будет минимальным (несколько центов).


