# ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ IntegrityOS

## ÐŸÑ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Python 3.11+
- Node.js 18+
- Docker Ð¸ Docker Compose (Ð´Ð»Ñ PostgreSQL)
- Git

## Ð¨Ð°Ð³ 1: ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

```bash
cd integrityos
```

## Ð¨Ð°Ð³ 2: Ð—Ð°Ð¿ÑƒÑÐº Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ (PostgreSQL + Redis)

```bash
docker-compose up -d
```

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ñ‹:
```bash
docker ps
```

## Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Backend

```bash
cd backend

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip install -r requirements.txt

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» .env (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
cat > .env << EOF
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/integrityos
CORS_ORIGINS=["http://localhost:3000"]
EOF

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
alembic revision --autogenerate -m "Initial migration"

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
alembic upgrade head

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€
uvicorn app.main:app --reload
```

Backend Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð½Ð° `http://localhost:8000`

## Ð¨Ð°Ð³ 4: Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

Ð’ Ð½Ð¾Ð²Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ:

```bash
cd scripts
python generate_data.py
```

Ð­Ñ‚Ð¾ ÑÐ¾Ð·Ð´Ð°ÑÑ‚ Ñ„Ð°Ð¹Ð»Ñ‹ `data/Objects.csv` Ð¸ `data/Diagnostics.csv`

## Ð¨Ð°Ð³ 5: Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Ð‘Ð”

```bash
# Ð•Ð´Ð¸Ð½Ñ‹Ð¹ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð² Ð¸ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸Ðº Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ data/
curl -X POST http://localhost:8000/api/import

# Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· Swagger UI
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ http://localhost:8000/docs Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ endpoint /api/import
```

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
- ÐÐ°Ð¹Ð´ÐµÑ‚ Ñ„Ð°Ð¹Ð»Ñ‹ `Objects.csv` Ð¸ `Diagnostics.csv` Ð² Ð¿Ð°Ð¿ÐºÐµ `data/`
- Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÐµÐ¹
- ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ML Ð¸Ð»Ð¸ rule-based Ð»Ð¾Ð³Ð¸ÐºÑƒ
- ÐžÐ±ÑƒÑ‡Ð¸Ñ‚ ML Ð¼Ð¾Ð´ÐµÐ»ÑŒ, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (>100 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)

## Ð¨Ð°Ð³ 6: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Frontend

Ð’ Ð½Ð¾Ð²Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ:

```bash
cd frontend

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» .env.local
cat > .env.local << EOF
NEXT_PUBLIC_API_URL=http://localhost:8000
EOF

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ dev ÑÐµÑ€Ð²ÐµÑ€
npm run dev
```

Frontend Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð½Ð° `http://localhost:3000`

## Ð¨Ð°Ð³ 7: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `http://localhost:3000` Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
2. Ð’Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñƒ ÐšÐ°Ð·Ð°Ñ…ÑÑ‚Ð°Ð½Ð° Ñ Ð¼Ð°Ñ€ÐºÐµÑ€Ð°Ð¼Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²
3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð² Ð»ÐµÐ²Ð¾Ð¼ Ð²ÐµÑ€Ñ…Ð½ÐµÐ¼ ÑƒÐ³Ð»Ñƒ Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…
4. ÐšÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð½Ð° Ð¼Ð°Ñ€ÐºÐµÑ€, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°

## ðŸ“š ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### Backend

```bash
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
docker-compose logs -f postgres

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ
alembic revision --autogenerate -m "Description"

# ÐžÑ‚ÐºÐ°Ñ‚Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ
alembic downgrade -1

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ ML Ð¼Ð¾Ð´ÐµÐ»Ð¸
curl http://localhost:8000/api/ml/monitor/metrics

# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ AI Ð°Ð½Ð°Ð»Ð¸Ð· Ð¼Ð¾Ð´ÐµÐ»Ð¸ (Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ OpenAI API ÐºÐ»ÑŽÑ‡)
curl http://localhost:8000/api/ml/monitor/analysis
```

### Frontend

```bash
# Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð´Ð»Ñ production
npm run build

# Ð—Ð°Ð¿ÑƒÑÐº production ÑÐµÑ€Ð²ÐµÑ€Ð°
npm start

# Ð›Ð¸Ð½Ñ‚Ð¸Ð½Ð³
npm run lint
```

## ðŸ› Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### PostgreSQL Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
docker-compose logs postgres

# ÐŸÐµÑ€ÐµÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
docker-compose down
docker-compose up -d postgres
```

### ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð° CSV

- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ CSV (Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ UTF-8)
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (object_id Ð¸ diag_id Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸)

### Leaflet ÐºÐ°Ñ€Ñ‚Ð° Ð½Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ

- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸ (ssr: false)
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ¸
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ API Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ: `curl http://localhost:8000/api/objects`

## ðŸ“– Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

- **[README.md](./README.md)** â€” Ð¾Ð±Ñ‰Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ
- **[ARCHITECTURE.md](./ARCHITECTURE.md)** â€” Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹
- **[HOW_SYSTEM_WORKS.md](./HOW_SYSTEM_WORKS.md)** â€” ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°
- **[Ð§Ð•ÐšÐ›Ð˜Ð¡Ð¢_Ð¡ÐžÐžÐ¢Ð’Ð•Ð¢Ð¡Ð¢Ð’Ð˜Ð¯_Ð¢Ð—.md](./Ð§Ð•ÐšÐ›Ð˜Ð¡Ð¢_Ð¡ÐžÐžÐ¢Ð’Ð•Ð¢Ð¡Ð¢Ð’Ð˜Ð¯_Ð¢Ð—.md)** â€” ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð¼Ñƒ Ð·Ð°Ð´Ð°Ð½Ð¸ÑŽ

## ðŸŽ¯ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. âœ… Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ…
2. âœ… ÐžÐ±ÑƒÑ‡Ð¸Ñ‚Ðµ ML Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð½Ð° Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
3. âœ… Ð˜Ð·ÑƒÑ‡Ð¸Ñ‚Ðµ Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´ ÑÐ¾ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¾Ð¹
4. âœ… Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ PDF Ð¾Ñ‚Ñ‡ÐµÑ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
5. âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ AI Assistant (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾, Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ OpenAI API ÐºÐ»ÑŽÑ‡)

